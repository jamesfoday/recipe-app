<!DOCTYPE html>
{% extends "recipes/base.html" %}
{% load static %}

{% block title %}All Recipes{% endblock %}

{% block content %}
<style>
  /* Recipe list grid */
  .recipe-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }

  /* Responsive for tablets */
  @media (max-width: 768px) {
    .recipe-list {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Responsive for phones */
  @media (max-width: 480px) {
    .recipe-list {
      grid-template-columns: 1fr;
    }
  }

  /* Recipe card styling */
  .recipe-card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1rem;
  }

  .recipe-card:hover, .recipe-card:focus-within {
    transform: translateY(-8px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    outline: none;
  }

  .recipe-card img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 1rem;
  }

  .recipe-name {
    font-size: 1.2rem;
    font-weight: 700;
    color: #2e7d32;
  }

  p.no-recipes {
    text-align: center;
    font-style: italic;
    color: #777;
    grid-column: 1 / -1;
  }

  /* Buttons container */
  .button-container {
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
    margin: 1rem 0;
  }

  .button-container a {
    padding: 0.5rem 1rem;
    background-color: #4caf50;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    font-weight: bold;
  }

  .button-container a:hover {
    background-color: #45a049;
  }
</style>

<h1>All Recipes</h1>

<div class="button-container">
  <a href="{% url 'sales:records' %}">Sales</a>
  <a href="{% url 'recipes:search_recipes' %}">Search Recipes</a>
   <a href="{% url 'recipes:add_recipe' %}">Add Recipe</a>
</div>

<div class="recipe-list" role="list">
  {% for recipe in object_list %}
    <div 
      class="recipe-card" 
      role="listitem"
      tabindex="0"
      onclick="window.location.href='{{ recipe.get_absolute_url }}'"
      onkeypress="if(event.key === 'Enter' || event.key === ' ') { window.location.href='{{ recipe.get_absolute_url }}' }"
      aria-label="View details for {{ recipe.name }}"
    >
      {% if recipe.pic %}
        <img src="{{ recipe.pic.url }}" alt="Picture of {{ recipe.name }}" />
      {% else %}
        <img src="{% static 'images/no-picture.jpg' %}" alt="No picture available" />
      {% endif %}
      <div class="recipe-name">{{ recipe.name }}</div>
    </div>
  {% empty %}
    <p class="no-recipes">No recipes found.</p>
  {% endfor %}
</div>
{% endblock %}


